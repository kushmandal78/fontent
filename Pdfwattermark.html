<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO Meta Tags -->
    <title>PDF Object Remover | Free Online PDF Cleaner & Processor Tool 2024</title>
    <meta name="description"
        content="Free online PDF object remover tool. Clean, process, and remove unwanted objects from PDF files instantly. No registration, no watermarks, 100% secure. Process PDFs up to 10MB instantly.">
    <meta name="keywords"
        content="PDF object remover, PDF cleaner, PDF processor, remove objects from PDF, PDF editor online, free PDF tool, PDF XObject remover, clean PDF, process PDF files, online PDF tool, PDF image remover, PDF optimizer">
    <meta name="author" content="PDF Tools - Professional PDF Processing Solutions">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="googlebot" content="index, follow">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">
    <link rel="canonical" href="https://pdf-object-remover.com/">

    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:title" content="PDF Object Remover - Free Online PDF Cleaner Tool 2024">
    <meta property="og:description"
        content="Remove unwanted objects from PDF files instantly. Free, secure, and easy-to-use online PDF processing tool. No registration required.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://pdf-object-remover.com/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:url" content="https://pdf-object-remover.com/">
    <meta property="og:site_name" content="PDF Object Remover">
    <meta property="og:locale" content="en_US">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="PDF Object Remover - Free Online PDF Cleaner Tool">
    <meta name="twitter:description" content="Remove unwanted objects from PDF files instantly. Free, secure, and easy-to-use.">
    <meta name="twitter:image" content="https://pdf-object-remover.com/twitter-image.jpg">
    <meta name="twitter:site" content="@pdftools">

    <!-- Enhanced Structured Data for SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "PDF Object Remover Tool",
      "description": "Free online tool to remove unwanted objects from PDF files. Clean and process PDFs instantly without registration.",
      "url": "https://pdf-object-remover.com",
      "applicationCategory": "UtilityApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "creator": {
        "@type": "Organization",
        "name": "PDF Tools",
        "url": "https://pdf-object-remover.com"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "1250"
      },
      "featureList": [
        "Remove XObject images from PDFs",
        "Clean PDF files online",
        "Process PDFs up to 10MB",
        "No registration required",
        "100% free and secure",
        "Instant processing"
      ]
    }
    </script>
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://pdf-object-remover.com/"
      }, {
        "@type": "ListItem",
        "position": 2,
        "name": "PDF Object Remover",
        "item": "https://pdf-object-remover.com/#main-content"
      }]
    }
    </script>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìÑ</text></svg>">

    <!-- CSS -->
    <style>
        :root {
            --primary: #4361ee;
            --primary-light: #eef2ff;
            --primary-dark: #3a56d4;
            --secondary: #7209b7;
            --secondary-light: #f3e8ff;
            --accent: #4cc9f0;
            --accent-light: #e3f8ff;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --light: #f8fafc;
            --dark: #1e293b;
            --gray: #64748b;
            --gray-light: #e2e8f0;
            --border: #cbd5e1;
            --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            --radius: 12px;
            --radius-sm: 8px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --container-max: 1200px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #f5f7fb 0%, #eef2ff 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Skip to main content link for accessibility */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary);
            color: white;
            padding: 8px 16px;
            z-index: 1001;
            text-decoration: none;
            border-radius: var(--radius-sm);
        }

        .skip-link:focus {
            top: 0;
        }

        /* Container */
        .container {
            max-width: var(--container-max);
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            padding: 30px 0;
            text-align: center;
            background: white;
            box-shadow: var(--shadow-sm);
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 10px;
        }

        .logo-icon {
            font-size: 32px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            background-clip: text;

            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        h1 {
            color: var(--dark);
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            margin-bottom: 8px;
            font-weight: 700;
            line-height: 1.2;
        }

        .subtitle {
            color: var(--gray);
            font-size: clamp(0.95rem, 2vw, 1.1rem);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Main Content */
        main {
            padding: 40px 0 60px;
        }

        /* Steps */
        .step-indicator {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 40px;
            position: relative;
        }

        .step-indicator::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            max-width: 600px;
            height: 3px;
            background: var(--gray-light);
            z-index: 1;
        }

        @media (max-width: 768px) {
            .step-indicator::before {
                display: none;
            }
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            width: 120px;
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            color: var(--gray);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-bottom: 10px;
            border: 3px solid var(--gray-light);
            transition: var(--transition);
            font-size: 16px;
        }

        .step.active .step-number {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            transform: scale(1.1);
            box-shadow: 0 0 0 5px rgba(67, 97, 238, 0.2);
        }

        .step.completed .step-number {
            background: var(--success);
            color: white;
            border-color: var(--success);
        }

        .step-label {
            font-size: 14px;
            color: var(--gray);
            text-align: center;
            font-weight: 500;
            transition: var(--transition);
        }

        .step.active .step-label {
            color: var(--primary);
            font-weight: 600;
        }

        /* Cards */
        .card {
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: clamp(20px, 4vw, 30px);
            margin-bottom: 30px;
            transition: var(--transition);
            border: 1px solid transparent;
        }

        .card:hover {
            border-color: var(--primary-light);
        }

        .section-title {
            font-size: 1.5rem;
            color: var(--dark);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Upload Section */
        .upload-section {
            text-align: center;
            border: 2px dashed var(--border);
            padding: 50px 20px;
            cursor: pointer;
            transition: var(--transition);
        }

        .upload-section:hover,
        .upload-section.dragover {
            border-color: var(--primary);
            background: var(--primary-light);
            transform: translateY(-5px);
        }

        .upload-icon {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.8;
        }

        .upload-text {
            font-size: 1.25rem;
            margin-bottom: 20px;
            color: var(--dark);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 14px 28px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: var(--radius-sm);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            min-height: 50px;
        }

        .btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn:disabled {
            background: var(--gray);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-secondary {
            background: var(--secondary);
        }

        .btn-secondary:hover {
            background: #5a08a1;
        }

        .btn-outline {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary-light);
        }

        .file-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            padding: 15px;
            background: var(--light);
            border-radius: var(--radius-sm);
            border-left: 4px solid var(--primary);
        }

        .file-name {
            font-weight: 600;
            word-break: break-word;
            max-width: 70%;
        }

        .file-size {
            color: var(--gray);
            font-size: 0.9rem;
            white-space: nowrap;
        }

        /* Preview Section */
        .preview-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin: 25px 0;
        }

        .preview-box {
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
            background: white;
            display: flex;
            flex-direction: column;
            height: 500px;
        }

        .preview-header {
            background: var(--light);
            padding: 12px 20px;
            border-bottom: 1px solid var(--border);
            font-weight: 600;
            color: var(--dark);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .preview-content {
            flex: 1;
            overflow: auto;
            padding: 0;
        }

        .pdf-preview {
            width: 90%;
            height: 90%;
            border: none;
        }

        .preview-placeholder {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: var(--gray);
            padding: 20px;
            text-align: center;
        }

        .preview-placeholder-icon {
            font-size: 48px;
            margin-bottom: 15px;
            opacity: 0.5;
        }

        /* Processing Section */
        .processing-section {
            text-align: center;
        }

        .spinner {
            width: 60px;
            height: 60px;
            margin: 0 auto 25px;
            position: relative;
        }

        .spinner-circle {
            width: 100%;
            height: 100%;
            border: 5px solid var(--primary-light);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .progress-bar {
            width: 100%;
            max-width: 400px;
            height: 8px;
            background: var(--gray-light);
            border-radius: 4px;
            margin: 25px auto;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 4px;
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Upload Progress Section */
        .upload-progress-section {
            text-align: center;
        }

        .upload-progress-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .upload-progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .upload-file-name {
            font-weight: 600;
            color: var(--dark);
            word-break: break-word;
            flex: 1;
            text-align: left;
        }

        .upload-percentage {
            font-weight: 700;
            color: var(--primary);
            font-size: 1.1rem;
            margin-left: 15px;
        }

        .upload-status-text {
            margin-top: 15px;
            color: var(--gray);
            font-size: 0.95rem;
        }

        /* Download Section */
        .download-section {
            text-align: center;
        }

        .success-icon {
            width: 80px;
            height: 80px;
            background: var(--success);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            margin: 0 auto 25px;
            animation: bounce 0.5s ease;
        }

        @keyframes bounce {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }
        }

        .action-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 25px;
        }

        /* Features Section */
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 50px;
        }

        .feature-card {
            background: white;
            border-radius: var(--radius-sm);
            padding: 25px;
            text-align: center;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }

        .feature-icon {
            font-size: 40px;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .feature-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--dark);
        }

        .feature-desc {
            color: var(--gray);
            font-size: 0.95rem;
        }

        /* Article Section */
        .article-section {
            margin-top: 50px;
            margin-bottom: 40px;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            padding: 40px;
            line-height: 1.8;
        }

        .article-section header {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border);
        }

        .article-section h2 {
            font-size: clamp(1.8rem, 4vw, 2.3rem);
            color: var(--dark);
            margin-bottom: 15px;
            line-height: 1.3;
        }

        .article-meta {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            font-size: 0.9rem;
            color: var(--gray);
            margin-top: 15px;
        }

        .article-meta time {
            display: flex;
            align-items: center;
        }

        .article-content {
            margin-top: 30px;
        }

        .article-content h3 {
            font-size: 1.5rem;
            color: var(--primary);
            margin-top: 40px;
            margin-bottom: 20px;
            font-weight: 700;
            line-height: 1.4;
        }

        .article-content h3:first-of-type {
            margin-top: 0;
        }

        .article-content p {
            margin-bottom: 20px;
            color: var(--dark);
            font-size: 1.05rem;
            text-align: justify;
            text-align-last: left;
        }

        .article-intro {
            font-size: 1.15rem;
            font-weight: 500;
            color: var(--dark);
            line-height: 1.8;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--primary-light);
            border-left: 4px solid var(--primary);
            border-radius: var(--radius-sm);
        }

        .article-content strong {
            color: var(--primary-dark);
            font-weight: 600;
        }

        .article-conclusion {
            font-size: 1.1rem;
            font-style: italic;
            color: var(--gray);
            margin-top: 30px;
            padding: 20px;
            background: var(--light);
            border-radius: var(--radius-sm);
            border-left: 4px solid var(--secondary);
        }

        .article-footer {
            margin-top: 40px;
            padding-top: 25px;
            border-top: 2px solid var(--border);
        }

        .article-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .tag {
            background: var(--primary-light);
            color: var(--primary-dark);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            transition: var(--transition);
        }

        .tag:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .article-section {
                padding: 25px 20px;
            }

            .article-content h3 {
                font-size: 1.3rem;
            }

            .article-content p {
                font-size: 1rem;
                text-align: left;
            }

            .article-intro {
                font-size: 1.05rem;
                padding: 15px;
            }

            .article-meta {
                font-size: 0.85rem;
            }
        }

        /* Footer */
        footer {
            background: var(--dark);
            color: white;
            padding: 40px 0 20px;
            margin-top: 60px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 30px;
        }

        .footer-section h3 {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: white;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: #cbd5e1;
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: white;
            padding-left: 5px;
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #94a3b8;
            font-size: 0.9rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .step-indicator {
                gap: 20px;
            }

            .step {
                width: 80px;
            }

            .step-label {
                font-size: 12px;
            }

            .upload-section {
                padding: 30px 15px;
            }

            .preview-container {
                grid-template-columns: 1fr;
            }

            .preview-box {
                height: 350px;
            }

            .action-buttons {
                flex-direction: column;
                align-items: center;
            }

            .btn {
                width: 100%;
                max-width: 300px;
            }

            .file-info {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .file-name {
                max-width: 100%;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 15px;
            }

            .step {
                width: 70px;
            }

            .step-number {
                width: 36px;
                height: 36px;
                font-size: 14px;
            }

            .card {
                padding: 20px 15px;
            }

            .preview-box {
                height: 300px;
            }
        }

        /* Print Styles */
        @media print {
            .no-print {
                display: none !important;
            }

            body {
                background: white;
                color: black;
            }

            .card {
                box-shadow: none;
                border: 1px solid #ddd;
            }
        }

        #uploadBtn {
            display: none;
        }

        .image-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 12px;
            margin-bottom: 15px;
        }

        @media (max-width: 600px) {
            .image-container {
                grid-template-columns: repeat(auto-fill, minmax(85px, 1fr));
                gap: 8px;
            }

            .image-logo {
                width: 40px;
                height: 40px;
            }

            .action-bar {
                flex-direction: column;
            }
        }

        .image-item {
            background: white;
            border-radius: 8px;
            padding: 8px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            border: 2px solid #e9ecef;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .image-item:hover {
            border-color: #adb5bd;
            transform: translateY(-2px);
        }

        .image-item.selected {
            border-color: #0d6efd;
            background-color: #f0f7ff;
            box-shadow: 0 3px 6px rgba(13, 110, 253, 0.15);
        }

        .image-logo {
            width: 50px;
            height: 50px;
            object-fit: contain;
            margin-bottom: 6px;
            border-radius: 4px;
            background: #f8f9fa;
            padding: 4px;
        }

        .image-name {
            font-size: 11px;
            color: #495057;
            margin-bottom: 6px;
            word-break: break-all;
            height: 14px;
            overflow: hidden;
        }

        .select-btn {
            padding: 4px 10px;
            background-color: #6c757d;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 11px;
            cursor: pointer;
            transition: background-color 0.2s;
            width: 100%;
        }

        .select-btn:hover {
            background-color: #5a6268;
        }

        .select-btn.selected {
            background-color: #0d6efd;
        }

        .select-btn.selected:hover {
            background-color: #0b5ed7;
        }

        .info-panel {
            background: white;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            border-left: 3px solid #0d6efd;
        }

        .info-label {
            color: #6c757d;
            font-size: 11px;
            font-weight: 600;
            margin-bottom: 4px;
            display: block;
        }

        .info-value {
            color: #212529;
            font-size: 12px;
        }

        .selected-images {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 8px;
        }

        .selected-tag {
            background: #e7f1ff;
            color: #0d6efd;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 10px;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .selected-tag .remove {
            cursor: pointer;
            font-size: 12px;
            font-weight: bold;
            margin-left: 2px;
        }

        .action-bar {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .submit-btn {
            padding: 8px 24px;
            background: linear-gradient(135deg, #0d6efd, #0b5ed7);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 2px 4px rgba(13, 110, 253, 0.3);
        }

        .submit-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 3px 6px rgba(13, 110, 253, 0.4);
        }

        .submit-btn:disabled {
            background: #adb5bd;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .clear-btn {
            padding: 8px 16px;
            background: #f8f9fa;
            color: #6c757d;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .clear-btn:hover {
            background: #e9ecef;
        }

        .image-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            align-items: center;
        }

        .preview-image {
            width: 60px;
            /* small logo size */
            height: 60px;
            object-fit: cover;
            /* keep image ratio */
            border-radius: 6px;
            border: 1px solid #ddd;
            background: #f9f9f9;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .preview-image:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
    </style>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Skip to main content link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <header role="banner">
        <div class="container">
            <div class="logo">
                <span class="logo-icon" role="img" aria-label="PDF Document">üìÑ</span>
                <h1>PDF Object Remover</h1>
            </div>
            <p class="subtitle">Remove unwanted objects from your PDF files instantly. No installation required.
                Completely free.</p>
        </div>
    </header>

    <main id="main-content" role="main">
        <div class="container">
            <!-- Step Indicator -->
            <nav class="step-indicator" aria-label="PDF processing steps">
                <div class="step active" id="step1">
                    <div class="step-number" aria-label="Step 1">1</div>
                    <div class="step-label">Upload PDF</div>
                </div>
                <div class="step" id="step2">
                    <div class="step-number" aria-label="Step 2">2</div>
                    <div class="step-label">Preview</div>
                </div>
                <div class="step" id="step3">
                    <div class="step-number" aria-label="Step 3">3</div>
                    <div class="step-label">Processing</div>
                </div>
                <div class="step" id="step4">
                    <div class="step-number" aria-label="Step 4">4</div>
                    <div class="step-label">Download</div>
                </div>
            </nav>

            <!-- Upload Section -->
            <section class="card upload-section" id="uploadSection" aria-labelledby="upload-title">
                <h2 id="upload-title" class="section-title" aria-label="Upload your PDF file">
                    <span role="img" aria-hidden="true">üì§</span> Upload Your PDF
                </h2>
                <div class="upload-icon" role="img" aria-label="PDF document icon">üìÑ</div>
                <p class="upload-text">Drag & drop your PDF file here or click to browse</p>
                <input type="file" id="pdfInput" accept=".pdf" style="display: none;" aria-label="Select PDF file">
                <button class="btn" id="uploadBtn" aria-label="Upload PDF file">
                    <span role="img" aria-hidden="true">üìÅ</span> Choose PDF File
                </button>
                <button class="btn"> uploaded pdf file</button>

                <p style="margin-top: 15px; color: var(--gray);">Max file size: 10MB ‚Ä¢ Supported: PDF files only</p>
            </section>

            <!-- Upload Progress Section -->
            <section class="card upload-progress-section" id="uploadProgressSection"
                aria-labelledby="upload-progress-title" hidden>
                <h2 id="upload-progress-title" class="section-title" aria-label="Uploading PDF">
                    <span role="img" aria-hidden="true">üì§</span> Uploading PDF
                </h2>
                <div class="upload-progress-container">
                    <div class="upload-progress-info">
                        <span class="upload-file-name" id="uploadFileName">document.pdf</span>
                        <span class="upload-percentage" id="uploadPercentage">0%</span>
                    </div>
                    <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100"
                        aria-valuenow="0">
                        <div class="progress-fill" id="uploadProgressFill"></div>
                    </div>
                    <p class="upload-status-text" id="uploadStatusText">Preparing upload...</p>
                </div>
            </section>

            <!-- Preview Section -->
            <section class="card preview-section" id="previewSection" aria-labelledby="preview-title" hidden>
                <h2 id="preview-title" class="section-title" aria-label="Preview PDF">
                    <span role="img" aria-hidden="true">üëÅÔ∏è</span> Preview PDF
                </h2>
                <div class="file-info">
                    <span class="file-name" id="fileName">document.pdf</span>
                    <span class="file-size" id="fileSize">2.5 MB</span>
                </div>

                <div class="preview-container">
                    <article class="preview-box">
                        <div class="preview-header">
                            <span>Original PDF</span>
                            <span role="img" aria-label="Original file">üìã</span>
                        </div>
                        <div class="preview-content">
                            <iframe class="pdf-preview" id="originalPdf" src="about:blank"
                                title="Original PDF preview"></iframe>
                        </div>
                    </article>
                </div>

                <div class="action-buttons">
                    <button class="btn" id="removeBtn" aria-label="Remove objects from PDF">
                        <span role="img" aria-hidden="true">üîÑ</span> Remove Objects
                    </button>
                    <button class="btn btn-outline" id="uploadNewBtn" aria-label="Upload a different PDF">
                        <span role="img" aria-hidden="true">üì§</span> Upload New PDF
                    </button>
                </div>
            </section>

            <!-- Processing Section -->
            <section class="card processing-section" id="processingSection" aria-labelledby="processing-title" hidden>
                <h2 id="processing-title" class="section-title" aria-label="Processing PDF">
                    <span role="img" aria-hidden="true">‚öôÔ∏è</span> Removing Objects
                </h2>
                <div class="spinner" aria-label="Processing in progress">
                    <div class="spinner-circle"></div>
                </div>
                <p>Please wait while we process your PDF file. This may take a few moments.</p>
                <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div id="progressText" style="font-weight: 600;">Processing...</div>
            </section>

            <!-- Download Section -->
            <section class="card download-section" id="downloadSection" aria-labelledby="download-title" hidden>
                <h2 id="download-title" class="section-title" aria-label="Download processed PDF">
                    <span role="img" aria-hidden="true">‚úÖ</span> Processing Complete!
                </h2>
                <div class="success-icon" role="img" aria-label="Success">‚úì</div>
                <div class="preview-container">
                    <article class="preview-box">
                        <div class="preview-header">
                            <span>Processed PDF</span>
                            <span role="img" aria-label="Processed file">üìã</span>
                        </div>
                        <div class="preview-content">
                            <iframe class="pdf-preview" id="processPDF" src="about:blank"
                                title="Processed PDF preview"></iframe>
                        </div>
                    </article>
                </div>
                <p>Your PDF has been successfully processed and all objects have been removed.</p>

                <div class="file-info" style="max-width: 400px; margin: 20px auto;">
                    <span class="file-name" id="processedFileName">document_processed.pdf</span>
                    <span class="file-size" id="processedFileSize">1.8 MB</span>
                </div>

                <div class="action-buttons">
                    <button class="btn" id="downloadBtn" aria-label="Download processed PDF">
                        <span role="img" aria-hidden="true">üíæ</span> Download Processed PDF
                    </button>
                    <button class="btn btn-secondary" id="processNewBtn" aria-label="Process another PDF">
                        <span role="img" aria-hidden="true">üîÑ</span> Process Another PDF
                    </button>
                </div>
            </section>

            <!-- Features -->
            <section class="features" aria-labelledby="features-title">
                <h2 id="features-title" class="section-title" style="grid-column: 1 / -1; text-align: center;">Why Use
                    Our Tool?</h2>

                <article class="feature-card">
                    <div class="feature-icon" role="img" aria-hidden="true">üöÄ</div>
                    <h3 class="feature-title">Fast Processing</h3>
                    <p class="feature-desc">Remove objects from PDFs in seconds with our optimized processing engine.
                    </p>
                </article>

                <article class="feature-card">
                    <div class="feature-icon" role="img" aria-hidden="true">üîí</div>
                    <h3 class="feature-title">Secure & Private</h3>
                    <p class="feature-desc">Your files are processed locally and never uploaded to our servers.</p>
                </article>

                <article class="feature-card">
                    <div class="feature-icon" role="img" aria-hidden="true">üíØ</div>
                    <h3 class="feature-title">100% Free</h3>
                    <p class="feature-desc">No hidden charges, watermarks, or limitations. Completely free forever.</p>
                </article>

                <article class="feature-card">
                    <div class="feature-icon" role="img" aria-hidden="true">üì±</div>
                    <h3 class="feature-title">Mobile Friendly</h3>
                    <p class="feature-desc">Works perfectly on all devices - desktop, tablet, and mobile.</p>
                </article>
            </section>

            <!-- Article Section -->
            <article class="card article-section" id="articleSection" itemscope itemtype="https://schema.org/Article">
                <header>
                    <h2 class="section-title" itemprop="headline">Understanding PDF Object Removal: A Comprehensive Guide to Cleaning and Processing PDF Files</h2>
                    <div class="article-meta">
                        <time datetime="2024-01-15" itemprop="datePublished">Published: January 15, 2024</time>
                        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
                            <span itemprop="name">PDF Tools Editorial Team</span>
                        </span>
                    </div>
                </header>

                <div class="article-content" itemprop="articleBody">
                    <p class="article-intro">
                        PDF (Portable Document Format) files have become the standard for document sharing, archiving, and professional communication across industries. However, PDFs often contain embedded objects, images, and XObjects that can significantly increase file size, complicate editing, and create unnecessary bloat. This comprehensive guide explores the importance of PDF object removal, the technical aspects behind the process, and how modern tools are revolutionizing PDF management.
                    </p>

                    <h3>What Are PDF Objects and Why Should They Be Removed?</h3>
                    <p>
                        PDF files are complex document formats that can contain various types of embedded objects. XObjects (external objects) are reusable graphic objects that can include images, patterns, and form elements. While these objects serve important functions in document rendering, they often become problematic when files are shared, archived, or need to be optimized for specific purposes.
                    </p>
                    <p>
                        Large image XObjects are particularly common culprits for inflated file sizes. A single high-resolution image embedded as an XObject can add several megabytes to a PDF, even if it appears small on the page. This not only creates challenges for file sharing and storage but can also slow down document loading times, especially in web browsers or mobile devices. Furthermore, unnecessary objects can complicate PDF editing workflows and increase processing time for document management systems.
                    </p>

                    <h3>The Technical Foundation of PDF Processing</h3>
                    <p>
                        Modern PDF processing tools employ sophisticated algorithms to identify and remove unwanted objects while preserving document integrity. The process involves parsing the PDF structure, analyzing object references, and carefully removing XObject entries from page resources. Advanced tools use libraries like pikepdf and PyMuPDF to safely manipulate PDF internal structures without corrupting the document.
                    </p>
                    <p>
                        The removal process must be precise because PDFs maintain complex relationships between objects. Incorrectly removing referenced objects can cause rendering errors, broken layouts, or complete document corruption. Professional PDF processors implement comprehensive validation checks to ensure that only truly removable objects are eliminated, maintaining text content, page structure, and essential formatting.
                    </p>

                    <h3>Common Use Cases for PDF Object Removal</h3>
                    <p>
                        <strong>Document Optimization:</strong> Businesses frequently need to reduce PDF file sizes for email attachments, cloud storage, or web hosting. Removing embedded image objects can dramatically decrease file sizes while maintaining document readability. This is particularly valuable for organizations that process large volumes of documents daily.
                    </p>
                    <p>
                        <strong>Archival and Compliance:</strong> Legal and financial institutions often need clean PDFs for long-term archival. Removing unnecessary objects ensures files remain accessible and compliant with retention policies. Clean PDFs also reduce storage costs and improve retrieval performance in document management systems.
                    </p>
                    <p>
                        <strong>Web Publishing:</strong> When publishing PDFs online, file size directly impacts user experience and bandwidth costs. Removing embedded objects can reduce load times and improve accessibility for users with slower internet connections. Search engines also prefer optimized files, potentially improving SEO rankings.
                    </p>
                    <p>
                        <strong>Digital Publishing:</strong> Content creators and publishers benefit from streamlined PDFs that load faster on e-readers, tablets, and mobile devices. Removing unnecessary objects ensures consistent rendering across platforms and devices, improving reader experience.
                    </p>

                    <h3>Benefits of Professional PDF Processing Tools</h3>
                    <p>
                        Modern online PDF object removal tools offer numerous advantages over manual editing or desktop software. <strong>Accessibility</strong> stands as a primary benefit - users can process PDFs from any device with internet access, eliminating the need for expensive software licenses or technical expertise. Browser-based tools work across operating systems, making them truly universal solutions.
                    </p>
                    <p>
                        <strong>Security and Privacy</strong> are critical considerations when processing sensitive documents. Reputable online tools implement robust security measures including encrypted connections, automatic file deletion, and strict access controls. Files are typically processed in isolated environments with automatic cleanup mechanisms to prevent unauthorized access.
                    </p>
                    <p>
                        <strong>Speed and Efficiency</strong> are hallmarks of modern PDF processors. Advanced algorithms can process documents in seconds, dramatically reducing time compared to manual editing. Batch processing capabilities allow users to handle multiple files simultaneously, further increasing productivity for professional workflows.
                    </p>
                    <p>
                        <strong>Cost-Effectiveness</strong> cannot be overstated. Many professional-grade tools are available free of charge, eliminating the need for expensive software licenses. This democratization of PDF processing technology enables small businesses, students, and individual users to access enterprise-level capabilities.
                    </p>

                    <h3>Understanding PDF File Structure and XObjects</h3>
                    <p>
                        To appreciate how PDF object removal works, it's helpful to understand basic PDF architecture. PDFs are structured as collections of objects organized in a cross-reference table. Page objects reference resource dictionaries that can contain XObject dictionaries. These XObject dictionaries map names to image objects, form XObjects, and other reusable content.
                    </p>
                    <p>
                        When a PDF processor removes XObjects, it must carefully navigate this structure. The tool identifies XObject entries in page resource dictionaries, removes the references, and ensures that no other objects depend on the removed XObjects. This process requires understanding PDF syntax, object numbering, and reference integrity.
                    </p>

                    <h3>Best Practices for PDF Processing</h3>
                    <p>
                        When using PDF object removal tools, several best practices ensure optimal results. <strong>Always maintain backups</strong> of original files before processing, as object removal is typically irreversible. This precaution protects against accidental data loss or processing errors.
                    </p>
                    <p>
                        <strong>Verify file integrity</strong> after processing by opening the cleaned PDF in multiple viewers. This ensures compatibility across different PDF readers and platforms. Professional tools automatically validate processed files, but manual verification adds an extra layer of confidence.
                    </p>
                    <p>
                        <strong>Understand file limitations</strong> before processing. Most online tools enforce file size limits (typically 10MB for free services) to ensure reasonable processing times and server resources. For larger files, consider splitting documents or using desktop software solutions.
                    </p>
                    <p>
                        <strong>Review processed content</strong> carefully, especially for important documents. While modern tools are highly accurate, automated processing can occasionally affect complex layouts or embedded elements. Visual inspection ensures that critical content remains intact after processing.
                    </p>

                    <h3>The Future of PDF Processing Technology</h3>
                    <p>
                        PDF processing technology continues evolving with artificial intelligence and machine learning integration. Future tools may automatically identify and categorize embedded objects, suggest optimal removal strategies, and predict file size reductions before processing. AI-powered quality assurance could detect potential issues before final processing, further improving reliability.
                    </p>
                    <p>
                        Cloud-based processing platforms are expanding capabilities beyond simple object removal. Integrated workflows now support batch processing, automated scheduling, API integrations, and enterprise-grade features like user management and audit logging. These advancements make PDF processing accessible to organizations of all sizes.
                    </p>

                    <h3>Conclusion: Embracing Efficient PDF Management</h3>
                    <p>
                        PDF object removal represents an essential capability in modern document management workflows. Whether optimizing files for distribution, preparing documents for archival, or improving web publishing performance, removing unnecessary embedded objects delivers measurable benefits. Modern online tools make this process accessible, secure, and efficient for users at all technical levels.
                    </p>
                    <p>
                        As digital document workflows continue evolving, understanding PDF processing capabilities becomes increasingly important. By leveraging professional tools and following best practices, users can maintain cleaner, more efficient PDF files that meet the demands of modern digital communication. The combination of technical sophistication and user-friendly interfaces makes PDF object removal a valuable skill for professionals across industries.
                    </p>
                    <p class="article-conclusion">
                        In summary, PDF object removal tools represent a convergence of technical capability and practical utility. They solve real-world problems faced by millions of users daily while maintaining the security and reliability essential for professional document handling. As these tools continue advancing, they promise to further streamline digital document workflows, making efficient PDF management accessible to everyone.
                    </p>
                </div>

                <footer class="article-footer">
                    <div class="article-tags">
                        <span class="tag">PDF Processing</span>
                        <span class="tag">Document Optimization</span>
                        <span class="tag">XObject Removal</span>
                        <span class="tag">File Management</span>
                        <span class="tag">Digital Tools</span>
                    </div>
                </footer>
            </article>
        </div>
    </main>

    <footer role="contentinfo">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>PDF Object Remover</h3>
                    <p style="color: #cbd5e1; margin-bottom: 15px;">Free online tool to clean and process PDF files
                        instantly.</p>
                </div>

                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#main-content">Upload PDF</a></li>
                        <li><a href="#" id="features-link">Features</a></li>
                        <li><a href="#" id="privacy-link">Privacy Policy</a></li>
                        <li><a href="#" id="terms-link">Terms of Service</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Other Tools</h3>
                    <ul class="footer-links">
                        <li><a href="#">PDF Compressor</a></li>
                        <li><a href="#">PDF Merger</a></li>
                        <li><a href="#">PDF Converter</a></li>
                        <li><a href="#">PDF Editor</a></li>
                    </ul>
                </div>
            </div>

            <div class="copyright">
                <p>¬© <span id="currentYear">2023</span> PDF Object Remover Tool. All rights reserved.</p>
                <p class="no-print">This tool works entirely in your browser. No data is sent to external servers.</p>
            </div>
        </div>
    </footer>

    <script>
        let fileList = []
        let processedPdfInfo = null; // Store processed PDF info
        document.addEventListener('DOMContentLoaded', function () {
            // Set current year in footer
            document.getElementById('currentYear').textContent = new Date().getFullYear();

            // DOM Elements
            const uploadSection = document.getElementById('uploadSection');
            const uploadProgressSection = document.getElementById('uploadProgressSection');
            const previewSection = document.getElementById('previewSection');
            const processingSection = document.getElementById('processingSection');
            const downloadSection = document.getElementById('downloadSection');

            const pdfInput = document.getElementById('pdfInput');
            // const uploadBtn = document.getElementById('uploadBtn');
            const removeBtn = document.getElementById('removeBtn');
            const uploadNewBtn = document.getElementById('uploadNewBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const processNewBtn = document.getElementById('processNewBtn');

            const fileName = document.getElementById('fileName');
            const fileSize = document.getElementById('fileSize');
            const originalPdf = document.getElementById('originalPdf');
            const processedFileName = document.getElementById('processedFileName');
            const processedFileSize = document.getElementById('processedFileSize');
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            const uploadProgressFill = document.getElementById('uploadProgressFill');
            const uploadPercentage = document.getElementById('uploadPercentage');
            const uploadFileName = document.getElementById('uploadFileName');
            const uploadStatusText = document.getElementById('uploadStatusText');

            const step1 = document.getElementById('step1');
            const step2 = document.getElementById('step2');
            const step3 = document.getElementById('step3');
            const step4 = document.getElementById('step4');

            // Event Listeners
            uploadSection.addEventListener('click', () => pdfInput.click());
            uploadSection.addEventListener('dragover', handleDragOver);
            uploadSection.addEventListener('dragleave', handleDragLeave);
            uploadSection.addEventListener('drop', handleFileDrop);
            pdfInput.addEventListener('change', handleFileSelect);
            uploadBtn.addEventListener('click', () => pdfInput.click());
            removeBtn.addEventListener('click', processPDF);
            uploadNewBtn.addEventListener('click', resetToUpload);
            downloadBtn.addEventListener('click', downloadPDF);
            processNewBtn.addEventListener('click', resetToUpload);


            // Footer link handlers
            document.getElementById('features-link').addEventListener('click', (e) => {
                e.preventDefault();
                document.querySelector('.features').scrollIntoView({ behavior: 'smooth' });
            });

            // Functions
            function handleDragOver(e) {
                e.preventDefault();
                e.stopPropagation();
                uploadSection.classList.add('dragover');
            }

            function handleDragLeave(e) {
                e.preventDefault();
                e.stopPropagation();
                uploadSection.classList.remove('dragover');
            }


            function handleFileDrop(e) {
                e.preventDefault();
                e.stopPropagation();
                uploadSection.classList.remove('dragover');

                if (e.dataTransfer.files.length) {
                    const file = e.dataTransfer.files[0];
                    validateAndProcessFile(file);
                }
            }


            function handleFileSelect(e) {
                if (e.target.files.length) {
                    const file = e.target.files[0];
                    validateAndProcessFile(file);
                }
            }

            function validateAndProcessFile(file) {
                // Validate file type
                if (!file.type.includes('pdf') && !file.name.toLowerCase().endsWith('.pdf')) {
                    alert('Please upload a valid PDF file.');
                    return;
                }

                // Validate file size (10MB)
                if (file.size > 10 * 1024 * 1024) {
                    alert('File size exceeds 10MB limit. Please upload a smaller file.');
                    return;
                }

                // Show upload progress section
                uploadSection.hidden = true;
                uploadProgressSection.hidden = false;

                // Update progress UI
                uploadFileName.textContent = file.name.length > 40 ? file.name.substring(0, 37) + '...' : file.name;
                uploadPercentage.textContent = '0%';
                uploadProgressFill.style.width = '0%';
                uploadStatusText.textContent = 'Preparing upload...';

                // Update step indicator
                step1.classList.remove('active');
                step1.classList.add('completed');

                // backend upload using fetch method
                async function uploadPDFtoServer(file) {
                    try {
                        const formData = new FormData();
                        formData.append("file", file);

                        // Simulate upload progress (fetch doesn't support real upload progress)
                        let progress = 0;
                        const progressInterval = setInterval(() => {
                            if (progress < 90) {
                                progress += Math.random() * 15;
                                if (progress > 90) progress = 90;

                                const percentComplete = Math.round(progress);
                                uploadPercentage.textContent = percentComplete + '%';
                                uploadProgressFill.style.width = percentComplete + '%';
                                uploadProgressFill.setAttribute('aria-valuenow', percentComplete);

                                if (percentComplete < 30) {
                                    uploadStatusText.textContent = 'Uploading file...';
                                } else if (percentComplete < 70) {
                                    uploadStatusText.textContent = 'Sending to server...';
                                } else {
                                    uploadStatusText.textContent = 'Almost done...';
                                }
                            }
                        }, 100);

                        // Upload file using fetch
                        const response = await fetch('http://127.0.0.1:8000/upload', {
                            method: 'POST',
                            body: formData
                        });

                        // Clear progress interval
                        clearInterval(progressInterval);

                        // Complete progress bar
                        uploadPercentage.textContent = '100%';
                        uploadProgressFill.style.width = '100%';
                        uploadProgressFill.setAttribute('aria-valuenow', 100);
                        uploadStatusText.textContent = 'Processing...';

                        // Handle response
                        if (response.ok) {
                            const result = await response.json();


                            // Verify backend sent success response
                            if (result.status === 'success' || result.message) {
                                uploadStatusText.textContent = 'Upload successful!';
                                fileList.push(result.file_location)
                                console.log('Backend response:', result);
                                return result;
                            } else {
                                throw new Error('Backend did not confirm successful upload');
                            }
                        } else {
                            let errorMsg = `Upload failed with status: ${response.status}`;
                            try {
                                const errorData = await response.json();
                                errorMsg = errorData.detail || errorData.message || errorMsg;
                            } catch (e) {
                                const errorText = await response.text();
                                errorMsg = errorText || errorMsg;
                            }
                            throw new Error(errorMsg);
                        }
                    } catch (error) {
                        // Handle network errors or other exceptions
                        if (error.name === 'TypeError' && error.message.includes('fetch')) {
                            throw new Error('Network error occurred during upload');
                        }
                        throw error;
                    }
                }

                // Process the file - wait for upload to complete
                uploadPDFtoServer(file)
                    .then((result) => {
                        // Only proceed if backend confirms successful upload
                        if (result && (result.status === 'success' || result.message)) {
                            console.log('‚úÖ Upload successful! Backend response:', result);
                            uploadStatusText.textContent = 'Upload successful! Redirecting to preview...';

                            // Hide progress section and show preview after confirming backend success
                            setTimeout(() => {
                                uploadProgressSection.hidden = true;
                                handleFile(file);
                            }, 800); // Small delay to show success message
                        } else {
                            throw new Error('Backend did not confirm successful upload');
                        }
                    })
                    .catch((error) => {
                        console.error('‚ùå Upload error:', error);
                        uploadStatusText.textContent = 'Upload failed: ' + error.message;
                        uploadStatusText.style.color = 'var(--danger)';

                        // Show error alert
                        setTimeout(() => {
                            alert('Error uploading PDF:\n' + error.message + '\n\nPlease try again.');
                            // Reset to upload section on error
                            uploadProgressSection.hidden = true;
                            uploadSection.hidden = false;
                            step1.classList.add('active');
                            step1.classList.remove('completed');
                        }, 1000);
                    });


            }

            function handleFile(file) {
                // Update file info
                fileName.textContent = file.name.length > 30 ? file.name.substring(0, 27) + '...' : file.name;
                fileName.setAttribute('title', file.name);
                fileSize.textContent = formatFileSize(file.size);

                // Create object URL for preview
                const fileURL = URL.createObjectURL(file);
                originalPdf.src = fileURL;

                // Show preview section
                uploadSection.hidden = true;
                previewSection.hidden = false;

                // Update steps
                step1.classList.remove('active');
                step1.classList.add('completed');
                step2.classList.add('active');

                // preview xobjet image sowing
                //loadProcessedImages()

                // Scroll to preview section
                previewSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });






            }

            async function processPDF() {
                // Show processing UI
                previewSection.hidden = true;
                processingSection.hidden = false;

                step2.classList.remove('active');
                step2.classList.add('completed');
                step3.classList.add('active');

                progressText.textContent = 'Processing...';
                progressFill.style.width = '10%';

                let pollingInterval = null;

                async function checkProcessingStatus() {
                    try {
                        const response = await fetch(
                            `http://127.0.0.1:8000/process/${encodeURIComponent(fileList[0])}`,
                            { method: "POST" }
                        );

                        if (!response.ok) {
                            throw new Error("Backend error");
                        }

                        const result = await response.json();

                        // üîÅ STILL PROCESSING
                        if (result.processing == true) {
                            progressText.textContent = 'Removing unwanted objects...';
                            progressFill.style.width =
                                Math.min(
                                    parseInt(progressFill.style.width) + 5,
                                    90
                                ) + '%';

                            return; // ‚õî stay in processing
                        }

                        // ‚úÖ PROCESS COMPLETED
                        if (result.processing === "false") {
                            clearInterval(pollingInterval);

                            // Store processed PDF info globally
                            processedPdfInfo = {
                                url: result.processfile,
                                filename: result.process_filename || "processed.pdf",
                                size: result.size || 0
                            };

                            progressFill.style.width = '100%';
                            progressText.textContent = 'Completed ‚úÖ';

                            setTimeout(() => {
                                processingSection.hidden = true;
                                downloadSection.hidden = false;

                                step3.classList.remove('active');
                                step3.classList.add('completed');
                                step4.classList.add('active');

                                // Update file info
                                processedFileName.textContent = processedPdfInfo.filename;
                                processedFileSize.textContent = formatFileSize(processedPdfInfo.size) || "‚Äî";

                                // Display processed PDF in iframe
                                const processPDFFrame = document.getElementById('processPDF');
                                if (processPDFFrame && processedPdfInfo.url) {
                                    const fullUrl = `http://127.0.0.1:8000${processedPdfInfo.url}`;
                                    processPDFFrame.src = fullUrl;
                                }

                                // üî• AUTO SCROLL
                                downloadSection.scrollIntoView({
                                    behavior: 'smooth',
                                    block: 'start'
                                });
                            }, 500);
                        }

                    } catch (error) {
                        console.error(error);
                        clearInterval(pollingInterval);

                        progressText.textContent = 'Processing failed ‚ùå';
                        progressText.style.color = 'red';

                        alert("Processing failed. Please try again.");
                        setTimeout(resetToUpload, 1500);
                    }
                }

                // ‚è±Ô∏è START POLLING (every 2 seconds)
                pollingInterval = setInterval(checkProcessingStatus, 2000);

                // üî• Call once immediately (no waiting 2s)
                checkProcessingStatus();
            }

            function downloadPDF() {
                // Check if processed PDF info is available
                if (!processedPdfInfo || !processedPdfInfo.filename) {
                    alert('No processed PDF available. Please process a PDF first.');
                    return;
                }

                // Show loading state on button
                const originalText = downloadBtn.innerHTML;
                downloadBtn.innerHTML = '<span role="img" aria-hidden="true">‚è≥</span> Preparing download...';
                downloadBtn.disabled = true;

                try {
                    // Create download URL from backend
                    const downloadUrl = `http://127.0.0.1:8000/download/${encodeURIComponent(processedPdfInfo.filename)}`;
                    
                    // Create a link element and trigger download
                    const link = document.createElement('a');
                    link.href = downloadUrl;
                    link.download = processedPdfInfo.filename;
                    link.style.display = 'none';
                    document.body.appendChild(link);
                    link.click();
                    
                    // Clean up after a short delay
                    setTimeout(() => {
                        document.body.removeChild(link);
                        downloadBtn.innerHTML = originalText;
                        downloadBtn.disabled = false;
                    }, 500);
                } catch (error) {
                    console.error('Download error:', error);
                    alert('Download failed. Please try again.');
                    downloadBtn.innerHTML = originalText;
                    downloadBtn.disabled = false;
                }
            }

            function resetToUpload() {
                // Reset to initial state
                uploadSection.hidden = false;
                uploadProgressSection.hidden = true;
                previewSection.hidden = true;
                processingSection.hidden = true;
                downloadSection.hidden = true;

                // Reset progress bars
                progressFill.style.width = '0%';
                progressFill.setAttribute('aria-valuenow', 0);
                if (uploadProgressFill) {
                    uploadProgressFill.style.width = '0%';
                    uploadProgressFill.setAttribute('aria-valuenow', 0);
                }
                if (uploadPercentage) {
                    uploadPercentage.textContent = '0%';
                }

                // Reset steps
                step1.classList.add('active');
                step1.classList.remove('completed');
                step2.classList.remove('active', 'completed');
                step3.classList.remove('active', 'completed');
                step4.classList.remove('active', 'completed');

                // Reset file input
                pdfInput.value = '';

                // Reset processed PDF info and iframe
                processedPdfInfo = null;
                fileList = [];
                const processPDFFrame = document.getElementById('processPDF');
                if (processPDFFrame) {
                    processPDFFrame.src = 'about:blank';
                }

                // Scroll to upload section
                uploadSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }

            function formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }

            // Initialize with some sample data for better UX
            setTimeout(() => {
                if (uploadSection && !uploadSection.hidden) {
                    // Add some subtle animation to draw attention to upload area
                    uploadSection.style.animation = 'none';
                    setTimeout(() => {
                        uploadSection.style.animation = 'pulse 2s ease-in-out';
                    }, 1000);
                }
            }, 500);

            // Add CSS for pulse animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes pulse {
                    0% { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
                    50% { box-shadow: 0 10px 15px -3px rgba(67, 97, 238, 0.2), 0 4px 6px -2px rgba(67, 97, 238, 0.1); }
                    100% { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>

</html>